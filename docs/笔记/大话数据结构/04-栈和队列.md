# 栈和队列

## 栈

:::tip
限定在表尾进行插入和删除操作的线性表。

允许插入和删除的一端称为**栈顶**，另一端称为**栈底**，不含任何数据元素的栈称为**空栈**。

栈是 **后进先出(Last In First Out)** 的线性表，简称为**LIFO**
:::

栈的插入操作叫做进栈、入栈或者压栈。

栈的删除操作叫做出栈或者弹栈。

### 顺序栈

<<< @/src/大话数据结构/04-栈和队列/01-栈的实现-顺序栈.js

### 共享空间栈

:::tip
两个栈的栈顶相连，共享同一个栈空间，使用 top1 和 top2 来分别表示两个栈的栈顶指针。

如果 top1 为 -1 表示为空栈，top2 为栈的最大容量 MAX_SIZE 时表示空栈

top1 + 1 = top2 时表示栈满溢出
:::

:::warning
共享空间栈需要具有相同的数据类型
:::

<<< @/src/大话数据结构/04-栈和队列/02-栈的实现-共享空间栈.js

### 链栈

<<< @/src/大话数据结构/04-栈和队列/03-栈的实现-链栈.js

### 时间复杂度

:::tip
顺序栈和链栈的插入和删除时间复杂度都是 O(1)
:::

## 栈的应用

### 递归

:::tip
直接调用自己或通过一系列的调用语句间接地调用自己的函数，称作递归函数
:::

#### 斐波那契数列

<<< @/src/大话数据结构/04-栈和队列/04-栈的应用-斐波那契数列.js

#### 与栈的联系

递归在前行阶段，对每一层递归，函数的局部变量、参数值以及返回地址都被压入栈中；在退回阶段，位于栈顶的局部变量、参数值以及返回地址被弹出，用于返回调用层次中执行代码的其余部分，也就是恢复了调用的状态。

#### 四则运算

:::tip
要想让计算机具有处理我们通常标准表达式的能力，需要以下两步：

1. 将中缀表达式转化为后缀表达式
2. 将中缀表达式进行运算得出结果
:::

中缀表达式

$9+(3-1)*3+10/2$

后缀表达式

$9、3、1、-、3、*、+、10、2、/、+$

##### 中缀表达式转换成后缀表达式

:::tip
新建一个空栈，遍历中缀表达式，遇到数字直接输出，遇到加减乘除括号时，按照优先级进行进栈和输出。

如果进栈的操作符是加号或者减号，栈底是乘号或者除号，则将栈现有的数据元素清空输出，然后再进栈

如果进栈的操作符是右括号，则遍历输出遇到左括号时停止
:::

##### 后缀表达式输出计算结果

:::tip
新建一个空栈，遍历转换后的后缀表达式，遇到数字直接进栈，遇到操作符则将栈顶两个数据元素进行出栈运算，然后再将结果进栈

第一个出栈的数据元素放在操作符右侧，第二个出栈的数据元素放在操作符左侧
:::

<<< @/src/大话数据结构/04-栈和队列/05-栈的应用-四则运算.js

## 队列

:::tip
只允许在一端进行插入操作，在另一端进行删除操作的线性表。

队列是一种**先进先出(First In Last Out)**的线性表，简称 FIFO。**允许插入**的一端称为**队尾**，**允许删除**的一端称为**队头**。
:::

### 顺序存储 - 循环队列

:::warning
为了避免插入和删除的时候需要移动元素而引入的循环队列。

如果队列单是顺序存储，算法的时间性能不高，插入的时间复杂度为 O(1)，删除的时间复杂度为 O(n)，因为出队后面的元素需要向前移动填补空位。

顺序存储结构插入和删除的时间复杂度都为 O(1)，但是需要考虑队列长度的问题。
:::

<<< @/src/大话数据结构/04-栈和队列/06-队列实现-循环队列.js

### 链式存储

:::tip
队列的链式存储插入和删除时间复杂度都为 O(1)
:::

<<< @/src/大话数据结构/04-栈和队列/07-队列实现-链式队列.js
